{"version":3,"sources":["node_modules/zbam/index.js","src/lib.js","src/index.js"],"names":["Zbam","constructor","options","self","Object","keys","forEach","key","undefined","startDraggingAfter","dragStartCondition","settings","dragStart","dragMove","dragEnd","startDraggingTimeout","_dragStart","bind","_dragMove","_dragEnd","window","addEventListener","dragging","e","setTimeout","clearTimeout","destroy","removeEventListener","obj","animate","HTMLElement","element","handle","positionDamping","rotationDamping","rotationMaxDegree","rotationMultiplier","rotationFn","num","actual","position","x","y","rotation","target","targetInitial","setListeners","parseFloat","toFixed","style","transform","requestAnimationFrame","initialX","initialY","previousX","previousY","isDescendant","clientX","clientY","parent","child","node","parentNode","cube","document","querySelector","Inertia"],"mappings":"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","file":"src.319d733a.js","sourceRoot":"..","sourcesContent":["export default class Zbam {\n  constructor(options) {\n    // If any option is provided, apply it\n    if (options) {\n      let self = this\n      Object.keys(options).forEach(key => {\n        self[key] = options[key]\n      })\n    }\n\n    if (this.startDraggingAfter === undefined) this.startDraggingAfter = 0 //ms\n    if (this.dragStartCondition === undefined) this.dragStartCondition = () => true\n    if (this.settings === undefined) this.settings = {}\n    if (this.dragStart === undefined) this.dragStart = () => true\n    if (this.dragMove === undefined) this.dragMove = () => true\n    if (this.dragEnd === undefined) this.dragEnd = () => true\n\n    this.startDraggingTimeout = null\n\n    this._dragStart = this._dragStart.bind(this)\n    this._dragMove = this._dragMove.bind(this)\n    this._dragEnd = this._dragEnd.bind(this)\n\n    // Initialize listeners\n    // Optimized for mobile and touch devices\n    window.addEventListener('mousedown', this._dragStart, this.settings)\n    window.addEventListener('touchstart', this._dragStart, this.settings)\n    window.addEventListener('mousemove', this._dragMove, this.settings)\n    window.addEventListener('touchmove', this._dragMove, this.settings)\n    window.addEventListener('mouseup', this._dragEnd, this.settings)\n    window.addEventListener('touchend', this._dragEnd, this.settings)\n\n    this.dragging = false\n  }\n\n  _dragStart(e) {\n    if (this.dragStartCondition(e)) {\n      if (this.startDraggingAfter === 0) {\n        this.dragging = true\n      } else {\n        this.startDraggingTimeout = setTimeout(() => {\n          this.dragging = true\n          this.startDraggingTimeout = null\n        }, this.startDraggingAfter)\n      }\n      this.dragStart(e)\n    }\n  }\n\n  _dragMove(e) {\n    if (this.dragging) {\n      this.dragMove(e)\n    }\n  }\n\n  _dragEnd(e) {\n    if (this.startDraggingTimeout) {\n      clearTimeout(this.startDraggingTimeout)\n      this.startDraggingTimeout = null\n    }\n    if (this.dragging) {\n      this.dragEnd(e)\n      this.dragging = false\n    }\n  }\n\n  destroy() {\n    window.removeEventListener('mousedown', this._dragStart, this.settings)\n    window.removeEventListener('touchstart', this._dragStart, this.settings)\n    window.removeEventListener('mousemove', this._dragMove, this.settings)\n    window.removeEventListener('touchmove', this._dragMove, this.settings)\n    window.removeEventListener('mouseup', this._dragEnd, this.settings)\n    window.removeEventListener('touchend', this._dragEnd, this.settings)\n  }\n}\n","import Zbam from 'zbam'\r\n\r\nexport default class {\r\n  constructor(obj) {\r\n    this.animate = this.animate.bind(this)\r\n    // get element\r\n    if (obj instanceof HTMLElement) this.element = obj\r\n    else this.element = obj.element\r\n\r\n    // other default settings\r\n    this.handle = obj.handle || this.element\r\n    this.positionDamping = obj.positionDamping || 0.4\r\n    this.rotationDamping = obj.rotationDamping || 0.1\r\n    this.rotationMaxDegree = obj.rotationMaxDegree || 75\r\n    this.rotationMultiplier = obj.rotationMultiplier || 3\r\n    this.rotationFn = num => {\r\n      num = num * this.rotationMultiplier\r\n      if (num > this.rotationMaxDegree) num = this.rotationMaxDegree\r\n      if (num < -this.rotationMaxDegree) num = -this.rotationMaxDegree\r\n      return num\r\n    }\r\n\r\n    // Element's transforms, stays consistent with element's style\r\n    this.actual = {\r\n      position: { x: 0, y: 0 },\r\n      rotation: { x: 0, y: 0 }\r\n    }\r\n\r\n    // Element's target transforms, applied after some damping\r\n    this.target = {\r\n      position: { x: 0, y: 0 },\r\n      rotation: { x: 0, y: 0 }\r\n    }\r\n\r\n    // Element's target transforms during mousedown\r\n    this.targetInitial = {\r\n      position: { x: 0, y: 0 },\r\n      rotation: { x: 0, y: 0 }\r\n    }\r\n\r\n    this.setListeners()\r\n    this.animate()\r\n  }\r\n\r\n  animate() {\r\n    let { target, actual, element } = this\r\n\r\n    // set position and rotation\r\n    actual.position.x += (target.position.x - actual.position.x) * this.positionDamping\r\n    actual.position.y += (target.position.y - actual.position.y) * this.positionDamping\r\n    actual.rotation.x += (target.rotation.x - actual.rotation.x) * this.rotationDamping\r\n    actual.rotation.y += (target.rotation.y - actual.rotation.y) * this.rotationDamping\r\n\r\n    // normalize values\r\n    actual.position.x = parseFloat(actual.position.x.toFixed(2))\r\n    actual.position.y = parseFloat(actual.position.y.toFixed(2))\r\n    actual.rotation.x = parseFloat(actual.rotation.x.toFixed(2))\r\n    actual.rotation.y = parseFloat(actual.rotation.y.toFixed(2))\r\n\r\n    // prettier-ignore\r\n    element.style.transform =\r\n      `translate(${actual.position.x}px, ${actual.position.y}px) \r\n       rotateX(${actual.rotation.x}deg) \r\n       rotateY(${actual.rotation.y}deg)`\r\n\r\n    // finnally call the function again\r\n    requestAnimationFrame(this.animate)\r\n  }\r\n\r\n  setListeners() {\r\n    let self = this\r\n    let x, y, initialX, initialY, previousX, previousY\r\n\r\n    new Zbam({\r\n      dragStartCondition(e) {\r\n        return self.handle === e.target || isDescendant(self.handle, e.target)\r\n      },\r\n      dragStart(e) {\r\n        previousX = 0\r\n        previousY = 0\r\n        initialX = e.clientX\r\n        initialY = e.clientY\r\n        self.targetInitial.position.x = self.target.position.x\r\n        self.targetInitial.position.y = self.target.position.y\r\n      },\r\n      dragMove(e) {\r\n        x = e.clientX - initialX\r\n        y = e.clientY - initialY\r\n        self.target.position.x = self.targetInitial.position.x + x\r\n        self.target.position.y = self.targetInitial.position.y + y\r\n        self.target.rotation.y = -self.rotationFn(previousX - x)\r\n        self.target.rotation.x = self.rotationFn(previousY - y)\r\n        previousX = x\r\n        previousY = y\r\n      },\r\n      dragEnd() {\r\n        self.target.rotation.y = previousX = x = 0\r\n        self.target.rotation.x = previousY = y = 0\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst isDescendant = (parent, child) => {\r\n  var node = child.parentNode\r\n  while (node != null) {\r\n    if (node === parent) {\r\n      return true\r\n    }\r\n    node = node.parentNode\r\n  }\r\n  return false\r\n}\r\n","import './styles.css'\nimport Inertia from './lib'\n\nlet cube = document.querySelector('.cube')\nnew Inertia(cube)\n"]}